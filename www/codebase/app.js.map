{"version":3,"sources":["webpack:///webpack/bootstrap 21084c980cd90ee66ed9","webpack:///./~/unicron/index.js","webpack:///./sources/less/app.less","webpack:///./sources/app.js"],"names":["topic_data_change_local","topic_data_change_remote","UnicronWeapons","uid","guid","window","___temp_Unicron","es5modules","onDemand","queue","_queue_active","_es5modules","load","url","callback","update","self","Array","isArray","_enqueue","map","path","process_queue","_requestES5Module","arrType","type","s","nodeType","node","tag_id","split","length","document","getElementById","indexOf","createElement","setAttribute","fetch","request","responseTex","responseText","textContent","getElementsByTagName","appendChild","c","push","first_on_queue","shift","fnCallBack","XMLHttpRequest","open","send","onreadystatechange","readyState","status","Date","now","toString","Math","random","S4","substring","UnicronEventSystem","parentNodeElement","root","_events","attach","on","attachEvent","dispatch","trigger","dispatchEvent","name","handler","event","createEvent","initEvent","Event","handlers","addEventListener","e","call","console","log","Error","UnicronSubscriber","topic","listener","$scope","id","isValidHandler","bind","error","UnicronPubSub","el","subscribers","topics","events","_registerTopic","contains","_isTopic","_compose","message","composed_message","validEvents","action","collection","model","data","datetime","getTime","to","from","publish","CustomEvent","detail","subscribe","subscriber","unsubscribe","removeEventListener","unicron_pub_sub","UnicronMessagingClient","entity","pubsub","_subscribe","_listener","newFunction","DAO","app","dao","JSData","dao_indexeddb_adapter","dao_http_adapter","local_database","remote_database","messaging_client","turnDatabaseOn","enable_local_database","config","enable_remote_database","DSLocalForageAdapter","DSHttpAdapter","DS","registerAdapter","default","UnicronSessionSystem","get","key","def","value","sessionStorage","getItem","JSON","parse","set","stringify","setItem","UnicronBasicComponent","_listenToTopic","_publishToTopic","session","destroy","_start","Unicron","famd","famdURI","environment","body","start","UnicronDao","Cybertron","MyApp"],"mappings":"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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/www/codebase/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 21084c980cd90ee66ed9","//import { JSData, DataStore } from \"../js-data/src/index.js\";\n//import { HttpAdapter } from '../js-data-http/src/index.js';\n\nconst topic_data_change_local = 'data.change.local';\nconst topic_data_change_remote = 'data.change.remote';\n\n/**\n * [UnicronWeapons util class]\n * @type {constructor}\n */\nclass UnicronWeapons {\n    constructor() {\n        /**\n         * [uid description]\n         * @type {guid}\n         */\n        this.uid = this.guid();\n        if (typeof window.___temp_Unicron === 'undefined') window.___temp_Unicron = {};\n        /**\n         * [window.___temp_Unicron temporary cache]\n         * @type {Associative array}\n         */\n        window.___temp_Unicron[this.uid] = {\n            es5modules: {}\n        };\n        /**\n         * [onDemand Queue used to load ondemand files.]\n         * @type {Object}\n         */\n        this.onDemand = {\n            queue: []\n        };\n        /**\n         * [_queue_active is the ondemand queue being processed]\n         * @type {Boolean}\n         */\n        this._queue_active = false;\n        /**\n         * [_es5modules quick access to loaded es5 modules]\n         * @type {Associative array}\n         */\n        this._es5modules = {};\n\n\n    }\n\n    /**\n     * [load description]\n     * @param  {[type]}   url      [description]\n     * @param  {Function} callback [description]\n     * @param  {[type]}   update   [description]\n     * @return {[type]}            [description]\n     */\n    load(url, callback, update) {\n        const self = this;\n\n        update = update || false;\n\n        if (Array.isArray(url)) {\n            self._enqueue(url.map(function(path) {\n                return {\n                    url: path,\n                    callback: callback,\n                    update: update\n                };\n            }));\n        } else {\n            self._enqueue({\n                url: url,\n                callback: callback,\n                update: update\n            });\n        }\n\n        self.process_queue();\n    }\n\n    _requestES5Module(url, callback, update) {\n        let self = this,\n            arrType, type, s, nodeType, node, tag_id = url.split(\"?\")[0];\n\n        arrType = url.split(\".\");\n        type = arrType[arrType.length - 1];\n\n        if (!update) {\n            if (document.getElementById(url) != null) {\n                callback();\n                return;\n            }\n        }\n\n        if (url.indexOf(\".css\") != -1) {\n            nodeType = \"link\";\n            node = document.createElement(nodeType);\n            node.setAttribute(\"rel\", \"stylesheet\");\n            node.setAttribute(\"type\", \"text/css\");\n        } else {\n            nodeType = \"script\";\n            node = document.createElement(nodeType);\n            node.setAttribute(\"type\", \"text/javascript\");\n        }\n\n        node.setAttribute(\"id\", url);\n\n        self.fetch(url, (request) => {\n\n            let responseTex = request.responseText,\n                uid = self.uid;\n            node.textContent = `window.___temp_Unicron[\"${uid}\"].es5modules[\"${url}\"] = (function(_root) {  ${responseTex} })(window);`;\n            document.getElementsByTagName('head')[0].appendChild(node);\n            self._es5modules[url] = window.___temp_Unicron[uid].es5modules[url];\n            callback();\n\n        });\n    }\n\n    _enqueue(c) {\n        this.onDemand.queue.push(c);\n    }\n\n    process_queue() {\n        let self = this,\n            first_on_queue = '';\n\n        if (self._queue_active)\n            return;\n\n        if (self.onDemand.queue.length > 0) {\n            self._queue_active = true;\n\n            first_on_queue = self.onDemand.queue.shift();\n\n            self._requestES5Module(first_on_queue.url, () => {\n\n                first_on_queue.callback(self._es5modules[first_on_queue.url]);\n                self.process_queue();\n\n            }, first_on_queue.update);\n        } else {\n            self._queue_active = false;\n        }\n    }\n\n    fetch(url, fnCallBack) {\n        const request = new XMLHttpRequest();\n        request.open(\"GET\", url, true);\n        request.send();\n        request.onreadystatechange = () => {\n            if (request.readyState == 4 && request.status == 200) {\n                if (fnCallBack) fnCallBack(request);\n            }\n        }\n    }\n\n    uid() {\n        return ((Date.now() & 0x7fff).toString(32) + (0x100000000 * Math.random()).toString(32));\n    }\n\n    S4() {\n        return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\n    }\n\n    guid() {\n        var self = this;\n        return (self.S4() + self.S4() + \"-\" + self.S4() + \"-\" + self.S4() + \"-\" + self.S4() + \"-\" + self.S4() + self.S4() + self.S4());\n    }\n}\n\n\n\n/**\n * [UnicronEventSystem implement application events]\n * @type {constructor}\n */\nclass UnicronEventSystem {\n    constructor(parentNodeElement) {\n        this.root = parentNodeElement || document;\n        this._events = {};\n\n        this.attach = this.on;\n        this.attachEvent = this.on;\n\n        this.dispatch = this.trigger;\n        this.dispatchEvent = this.trigger;\n    }\n    on(name, handler, c) {\n        const self = this;\n        let event = null;\n        c = c || {};\n        if (typeof self._events[name] === 'undefined') {\n            if (document.createEvent) {\n                event = document.createEvent('Event');\n                event.initEvent(name, true, true);\n            } else {\n                event = new Event(name); // CustomEvent\n            }\n            self._events[name] = {\n                event: event,\n                handlers: []\n            };\n        }\n        self._events[name].handlers.push(handler);\n        if (name == 'onApplicationStart') {\n            self.root.addEventListener(name, function(e) {\n                handler.call(self, e);\n            }, false);\n        } else if (name == 'onRegisterTopic') {\n            console.log('--- onRegisterTopic');\n            self.root.addEventListener(name, function(e) {\n                console.log('xxxxxx onRegisterTopic');\n                handler.call(self, e);\n            }, false);\n\n        }\n        //\n        else if (name == 'onComponentStart') {\n            self.root.addEventListener(name, function(e) {\n                handler.call(self, e);\n            }, false);\n\n        } else if (name == 'onApplicationReady') {\n            self.root.addEventListener(name, function(e) {\n                handler.call(self, e);\n            }, false);\n\n        } else if (name == 'onSessionStart') {\n            self.root.addEventListener(name, function(e) {\n                handler.call(self, e);\n            }, false);\n        } else if (name == 'onLocalDatabaseReady') {\n            self.root.addEventListener(name, function(e) {\n                handler.call(self, e);\n            }, false);\n        } else if (name == 'onRemoteDatabaseReady') {\n            self.root.addEventListener(name, function(e) {\n                handler.call(self, e);\n            }, false);\n        } else {\n            throw new Error('Can not add listener to an unkown event');\n        }\n    }\n    trigger(name) {\n        var self = this;\n        if (self._events[name]) self.root.dispatchEvent(self._events[name].event);\n    };\n}\n\n\nclass UnicronSubscriber extends UnicronWeapons {\n    constructor(topic, listener, $scope) {\n        super();\n\n        if (typeof topic === 'undefined')\n            throw new Error('Can not create a subscriber without a topic');\n\n        if (typeof listener === 'undefined')\n            throw new Error('Can not create a subscriber without a listener');\n\n        this.id = this.guid();\n        this.topic = topic;\n\n        if (this.isValidHandler(listener)) {\n            this.listener = listener.bind($scope || this);\n        } else\n            this.listener = () => {};\n    }\n    isValidHandler(handler) {\n        let error = null;\n        if (typeof handler === 'function') {\n            return true;\n        }\n        error = new Error('Attempt to register an invalid handler with the subscriber.');\n        error.handler = handler;\n        throw error;\n    }\n}\n\nclass UnicronPubSub {\n    constructor(el) {\n        this.node = el || document;\n        this.subscribers = {};\n        this.topics = [];\n        this.events = new UnicronEventSystem();\n\n        /**\n         * mandatory topics to register\n         */\n        this._registerTopic(topic_data_change_local);\n        this._registerTopic(topic_data_change_remote);\n    }\n    _registerTopic(topic) {\n        if (typeof topic === 'undefined')\n            throw new Error('Can not register the topic');\n        if (!this.topics.contains(topic)) {\n            this.topics.push(topic);\n            this.events.trigger('onRegisterTopic');\n        }\n    }\n    _isTopic(topic) {\n        //console.log('topic: ', topic);\n        //console.log( 'this.topics', this.topics );\n        return this.topics.contains(topic);\n    }\n    _compose(message, topic) {\n        let composed_message = null,\n            validEvents = ['create', 'update', 'delete', 'list'];\n\n        if (typeof message === 'undefined')\n            throw new Error('Can not compose without a message');\n\n        if (typeof topic === 'undefined')\n            throw new Error('Can not compose without a topic');\n\n        if (!validEvents.contains(message.action))\n            throw new Error('Invalid message action');\n\n        composed_message = {\n            action: message.action, // create, update, delete, list,\n            collection: message.collection,\n            model: message.model,\n            data: message.data,\n            datetime: (new Date().getTime()),\n            to: 'server', // client, server,\n            from: message.from,\n            topic: topic // 'data.change.remote', 'data.change.local'\n        };\n        return composed_message;\n    }\n    publish(topic, message) {\n        //console.log('UnicronPubSub.publish');\n        //console.log('topic:', topic);\n        //console.log('message: ', message);\n        if (typeof topic === 'undefined')\n            throw new Error('Can not publish without a topic');\n\n        if (typeof message === 'undefined')\n            throw new Error('Can not publish without a message');\n\n        if (!this._isTopic(topic))\n            throw new Error('Can not publish to a unregistered topic');\n\n        this.node.dispatchEvent(new CustomEvent(topic, {\n            detail: this._compose(message, topic)\n        }));\n    }\n    subscribe(topic, listener, $scope) {\n        if (!this._isTopic(topic))\n            throw new Error('Can not subscribe to a unregistered topic: ' + topic);\n\n        //console.log( 'XXXXXXXXXX UnicronPubSub subscribe' );\n\n        const subscriber = new UnicronSubscriber(topic, listener, $scope);\n\n        //console.log( subscriber );\n\n        this.subscribers[subscriber.id] = subscriber;\n\n        this.node.addEventListener(\n            this.subscribers[subscriber.id].topic,\n            this.subscribers[subscriber.id].listener,\n            0\n        );\n\n        return subscriber;\n    }\n    unsubscribe(id) {\n        let subscriber;\n\n        if (typeof id === 'undefined')\n            throw new Error('Can not unsubscribe without a subscriber id');\n\n        subscriber = this.subscribers[id];\n\n        this.node.removeEventListener(\n            subscriber.topic,\n            subscriber.listener,\n            0\n        );\n\n        delete this.subscribers[id];\n    }\n}\nconst unicron_pub_sub = new UnicronPubSub();\n\nclass UnicronMessagingClient {\n    constructor(entity) {\n        this.pubsub = unicron_pub_sub;\n        this.entity = entity;\n        entity.subscriber = this.subscriber;\n        entity.publish = this.publish;\n\n        this.topic = entity.topic || 'data.change.local';\n\n        //this.listener = this._listener.bind( this.entity );\n\n        this._subscribe();\n\n\n    }\n    _listener(message) {\n        //console.log(\"message\", message);\n        console.log(\"message.detail\", message.detail);\n        //console.log(\"message.type\", message.type);\n        //console.log(\"message.timeStamp\",message.timeStamp);\n        console.log('scope of this:::: ', this);\n    }\n    get listener() {\n        return this._listener;\n    }\n    set listener(newFunction) {\n        if (newFunction)\n            this._listener = newFunction.bind(this.entity);\n\n        this.pubsub.unsubscribe(this.subscriber.id);\n        this.pubsub.subscribe(this.topic, this._listener, this.entity);\n    }\n    _subscribe() {\n        //console.log( 'XXXXXXXXXX UnicronMessagingClient _subscribe' );\n        this.subscriber = this.pubsub.subscribe(this.topic, this._listener, this.entity);\n    }\n    publish(message, topic) {\n        topic = topic || this.topic;\n        message.from = this.subscriber.uid;\n        this.pubsub.publish(topic, message);\n    }\n    _registerTopic() {\n        this.pubsub._registerTopic(topic);\n    }\n}\n\n\nclass DAO {\n    constructor(app) {\n        this.app = app;\n        this.dao = JSData;\n        this.events = this.app.events;\n        this.dao_indexeddb_adapter = null;\n        this.dao_http_adapter = null;\n        this.local_database = null;\n        this.remote_database = null;\n        this.topic = 'data.change.local'; // mandatory to be used together UnicronMessagingClient\n        this.messaging_client = new UnicronMessagingClient(this);\n        this.messaging_client.listener = (message) => {\n            //console.log(\"message\", message);\n            console.log(\"message.detail\", message.detail);\n            //console.log(\"message.type\", message.type);\n            //console.log(\"message.timeStamp\",message.timeStamp);\n            console.log('scope of this: DAO');\n        };\n        // now this.listener and this.publish are available\n    }\n    turnDatabaseOn() {\n        const enable_local_database = this.app.config.enable_local_database || false,\n            enable_remote_database = this.app.config.enable_remote_database || false;\n\n        if (enable_local_database) this.dao_indexeddb_adapter = new DSLocalForageAdapter();\n        if (enable_remote_database) this.dao_http_adapter = new DSHttpAdapter();\n        \n        /*\n        js-data 3.0\n        if (enable_remote_database) {\n            this.dao_http_adapter = new HttpAdapter();\n            this.remote_database = new DataStore();\n\n            this.remote_database.registerAdapter('http', this.dao_http_adapter, { 'default': true });\n\n            \n            this.events.trigger('onRemoteDatabaseReady');\n        }*/\n\n        if (this.dao_indexeddb_adapter) {\n            this.local_database = new this.dao.DS();\n            this.local_database.registerAdapter('lf', this.dao_indexeddb_adapter, {\n                default: true\n            });\n            this.events.trigger('onLocalDatabaseReady');\n        }\n\n        if (this.dao_http_adapter) {\n            this.remote_database = new this.dao.DS();\n            this.remote_database.registerAdapter('http', this.dao_http_adapter, {\n                'default': true\n            });\n            this.events.trigger('onRemoteDatabaseReady');\n        }\n\n        this.app.local_database = this.local_database;\n        this.app.remote_database = this.remote_database; \n    }\n}\n\n\n\n\nclass UnicronSessionSystem {\n    get(key, def) {\n        var value = window.sessionStorage.getItem(key);\n        var data;\n        try {\n            data = value ? JSON.parse(value) : def;\n        } catch (e) {\n            data = def;\n        }\n        return data;\n    }\n    set(key, value) {\n        value = JSON.stringify(value);\n        window.sessionStorage.setItem(key, value);\n    }\n}\n\n\nclass UnicronBasicComponent {\n    constructor(app) {\n        //super();\n        this.app = app;\n        this._listenToTopic = topic_data_change_remote;\n        this._publishToTopic = topic_data_change_local;\n        //this.id = c.guid();\n\n        this.events = this.app.events;\n\n        this.session = this.app.session;\n\n        this.events.trigger('onComponentStart');\n\n        this.topic = 'data.change.local'; // mandatory to be used together UnicronMessagingClient\n        this.messaging_client = new UnicronMessagingClient(this);\n        // now this.listener and this.publish are available\n        this.messaging_client.listener = (message) => {\n            //console.log(\"message\", message);\n            console.log(\"message.detail\", message.detail);\n            //console.log(\"message.type\", message.type);\n            //console.log(\"message.timeStamp\",message.timeStamp);\n            console.log('scope of this: UnicronBasicComponent');\n        };\n\n\n    }\n\n    destroy() {\n        // destroy listener\n    }\n\n    _start() {\n        // register component listener as a PubSub Listener\n\n    }\n}\n\n\n\nclass Unicron extends UnicronWeapons {\n    constructor(c) {\n        const config = c || {},\n            app = config.app,\n            root = config.root,\n            uid = '';\n\n        super();\n\n        this.config = config;\n        self.famd = null;\n        this.famdURI = config.famd;\n\n        this.environment = 'dev';\n\n        this.app = app || this;\n        this.root = root || document.body;\n\n        this.events = new UnicronEventSystem();\n\n\n        this.topic = 'data.change.local'; // mandatory to be used together UnicronMessagingClient\n        this.messaging_client = new UnicronMessagingClient(this);\n        // now this.listener and this.publish are available\n        this.messaging_client.listener = (message) => {\n            //console.log(\"message\", message);\n            console.log(\"message.detail\", message.detail);\n            //console.log(\"message.type\", message.type);\n            //console.log(\"message.timeStamp\",message.timeStamp);\n            console.log('scope of this: Unicron');\n        };\n\n        this.session = null;\n    }\n\n    start(fnCallBack) {\n        const self = this;\n        self.events.trigger('onApplicationStart');\n\n        window.UnicronDao = new DAO(this);\n        window.UnicronDao.turnDatabaseOn();\n\n\n        self.session = new UnicronSessionSystem();\n        self.events.trigger('onSessionStart');        \n\n        self.fetch(self.famdURI, (request) => {\n            self.famd = JSON.parse(request.responseText);\n            //console.log( self.famd );\n\n            // now use FAMD \n            self.events.trigger('onApplicationReady');\n            if (fnCallBack) fnCallBack();\n        });\n    }\n\n    destroy() {\n        // remote database\n        // local database\n        // event system\n        // session\n        // temporary window scope\n        // DAO\n        // dao_http_adapter\n        // dao_indexeddb_adapter\n    }\n}\n\n\n\n\n\nexport const Cybertron = (() => {\n    return {\n        Unicron: Unicron,\n        UnicronBasicComponent: UnicronBasicComponent\n    };\n})();\n\n\n// WEBPACK FOOTER //\n// ./~/unicron/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/less/app.less\n// module id = 1\n// module chunks = 0","import \"less/app.less\";\n\nimport { Cybertron } from \"../node_modules/unicron/index.js\";\n\nexport class MyApp extends Cybertron.Unicron{\n\tconstructor(config){\n\t\tsuper(config);\n\t\t//console.log(config);\n\t}\n}\n\nwindow.MyApp = MyApp;\n\n\n// WEBPACK FOOTER //\n// ./sources/app.js"],"sourceRoot":""}